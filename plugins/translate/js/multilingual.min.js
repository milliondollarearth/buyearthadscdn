+function(b){var c=function(f,e){var d=this;this.options=e;this.$el=b(f);this.$activeField=null;this.$activeButton=b("[data-active-locale]",this.$el);this.$dropdown=b("ul.ml-dropdown-menu",this.$el);this.$placeholder=b(this.options.placeholderField);this.$dropdown.on("click","[data-switch-locale]",function(h){var g=b(this).data("switch-locale");d.setLocale(g);if(h.ctrlKey||h.metaKey){h.preventDefault();b('[data-switch-locale="'+g+'"]').click()}});this.$placeholder.on("input",function(){d.$activeField.val(this.value)});this.activeLocale=this.options.defaultLocale;this.$activeField=this.getLocaleElement(this.activeLocale);this.$activeButton.text(this.activeLocale);b("[data-input-preset]",this.$el).on("oc.inputPreset.beforeUpdate",function(h,k){var i=k.siblings(".ml-btn[data-active-locale]").text();var g=b(this).data("locale-value");var j=b(this).siblings(".ml-btn[data-active-locale]").text();if(i&&g&&j){if(j!==i){d.setLocale(i)}b(this).data("update",i===g)}})};c.DEFAULTS={defaultLocale:"en",defaultField:null,placeholderField:null};c.prototype.getLocaleElement=function(d){var e=this.$el.find('[data-locale-value="'+d+'"]');return e.length?e:null};c.prototype.getLocaleValue=function(d){var e=this.getLocaleElement(d);return e?e.val():null};c.prototype.setLocaleValue=function(e,d){if(d){this.getLocaleElement(d).val(e)}else{this.$activeField.val(e)}};c.prototype.setLocale=function(d){this.activeLocale=d;this.$activeField=this.getLocaleElement(d);this.$activeButton.text(d);this.$placeholder.val(this.getLocaleValue(d));this.$el.trigger("setLocale.oc.multilingual",[d,this.getLocaleValue(d)])};var a=b.fn.multiLingual;b.fn.multiLingual=function(f){var e=Array.prototype.slice.call(arguments,1),d;this.each(function(){var i=b(this);var h=i.data("oc.multilingual");var g=b.extend({},c.DEFAULTS,i.data(),typeof f=="object"&&f);if(!h){i.data("oc.multilingual",(h=new c(this,g)))}if(typeof f=="string"){d=h[f].apply(h,e)}if(typeof d!="undefined"){return false}});return d?d:this};b.fn.multiLingual.Constructor=c;b.fn.multiLingual.noConflict=function(){b.fn.multiLingual=a;return this};b(document).render(function(){b('[data-control="multilingual"]').multiLingual()})}(window.jQuery);